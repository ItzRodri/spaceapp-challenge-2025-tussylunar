{% extends "base.html" %}

{% block title %}Basic Mode - Exoplanet AI Classifier{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-8 mx-auto">
        <div class="text-center mb-4">
            <h1 class="display-5 text-primary">
                <i class="fas fa-user"></i> Basic Mode
            </h1>
            <p class="lead">Quick exoplanet classification for individual candidates</p>
        </div>

        <!-- Input Form -->
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h4 class="mb-0"><i class="fas fa-edit"></i> Exoplanet Parameters</h4>
            </div>
            <div class="card-body">
                <form id="predictionForm">
                    <div class="row g-3">
                        <!-- Mission Selection -->
                        <div class="col-md-6">
                            <label for="mission" class="form-label">
                                Mission
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Select the space mission that observed this exoplanet candidate.">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <select class="form-select" id="mission" name="mission" required>
                                <option value="tess">TESS</option>
                                <option value="kepler">Kepler</option>
                            </select>
                            <div class="form-text">Select the mission that observed this candidate</div>
                        </div>

                        <!-- Target ID -->
                        <div class="col-md-6">
                            <label for="target_id" class="form-label">
                                Target ID (Optional)
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Identifier for the star or planet candidate. Examples: TOI-1234, KOI-5678.">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="text" class="form-control" id="target_id" name="target_id" 
                                   placeholder="e.g., TOI-1234 or KOI-5678">
                        </div>

                        <!-- Orbital Period -->
                        <div class="col-md-6">
                            <label for="orbital_period_days" class="form-label">
                                Orbital Period (days) <span class="text-danger">*</span>
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Time taken by the planet to complete one orbit around its star.">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="number" class="form-control" id="orbital_period_days" 
                                   name="orbital_period_days" step="0.001" min="0.1" max="1000" required>
                            <div class="form-text">Range: 0.1 - 1000 days</div>
                        </div>

                        <!-- Transit Duration -->
                        <div class="col-md-6">
                            <label for="transit_duration_hours" class="form-label">
                                Transit Duration (hours) <span class="text-danger">*</span>
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Time the planet takes to pass in front of its star.">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="number" class="form-control" id="transit_duration_hours" 
                                   name="transit_duration_hours" step="0.01" min="0.05" max="50" required>
                            <div class="form-text">Range: 0.05 - 50 hours</div>
                        </div>

                        <!-- Transit Depth -->
                        <div class="col-md-6">
                            <label for="transit_depth_ppm" class="form-label">
                                Transit Depth (ppm) <span class="text-danger">*</span>
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Measure of how much the star's light dims during transit (parts per million).">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="number" class="form-control" id="transit_depth_ppm" 
                                   name="transit_depth_ppm" step="1" min="10" max="500000" required>
                            <div class="form-text">Range: 10 - 500,000 ppm</div>
                        </div>

                        <!-- Stellar Radius -->
                        <div class="col-md-6">
                            <label for="stellar_radius_solar" class="form-label">
                                Stellar Radius (solar) <span class="text-danger">*</span>
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Radius of the host star in solar radii (1 = Sun's radius).">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="number" class="form-control" id="stellar_radius_solar" 
                                   name="stellar_radius_solar" step="0.01" min="0.1" max="100" required>
                            <div class="form-text">Range: 0.1 - 100 solar radii</div>
                        </div>

                        <!-- Stellar Temperature -->
                        <div class="col-md-6">
                            <label for="stellar_teff_K" class="form-label">
                                Stellar Temperature (K) <span class="text-danger">*</span>
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Effective surface temperature of the host star in Kelvin.">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="number" class="form-control" id="stellar_teff_K" 
                                   name="stellar_teff_K" step="1" min="2000" max="15000" required>
                            <div class="form-text">Range: 2000 - 15000 K</div>
                        </div>

                        <!-- Signal-to-Noise Ratio -->
                        <div class="col-md-6">
                            <label for="snr" class="form-label">
                                Signal-to-Noise Ratio (Optional)
                                <button type="button" class="btn btn-sm btn-outline-info" 
                                        data-bs-toggle="tooltip" data-bs-placement="right" 
                                        title="Quality of the signal; higher values indicate more reliable measurements.">
                                    <i class="fas fa-info-circle"></i>
                                </button>
                            </label>
                            <input type="number" class="form-control" id="snr" name="snr" 
                                   step="0.1" min="0" max="10000">
                            <div class="form-text">Range: 0 - 10,000</div>
                        </div>
                    </div>

                    <div class="mt-4 text-center">
                        <button type="submit" class="btn btn-primary btn-lg" id="predictBtn">
                            <i class="fas fa-rocket"></i> Classify Exoplanet
                        </button>
                        <button type="reset" class="btn btn-outline-secondary btn-lg ms-2">
                            <i class="fas fa-undo"></i> Reset
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Resultados y secciones adicionales igual que tu cÃ³digo original ... -->

    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Inicializar tooltips de Bootstrap
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
  return new bootstrap.Tooltip(tooltipTriggerEl)
})

// Tu script existente para el formulario y displayResults sigue igual
document.getElementById('predictionForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    document.getElementById('loading').style.display = 'block';
    document.getElementById('results').style.display = 'none';
    document.getElementById('error-alert').style.display = 'none';
    const formData = new FormData(this);
    try {
        const response = await fetch('/api/predict/single', {method: 'POST', body: formData});
        if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
        const result = await response.json();
        displayResults(result);
    } catch (error) {
        document.getElementById('error-message').textContent = error.message;
        document.getElementById('error-alert').style.display = 'block';
    } finally {
        document.getElementById('loading').style.display = 'none';
    }
});

// Funciones displayResults, updateProgressBar, displaySHAPExplanations y displayOfficialLinks siguen igual
</script>
{% endblock %}
